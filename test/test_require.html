<!doctype html>
<html>
<head>
	<title>Backbone-tastypie Test Suite</title>
	<link rel="stylesheet" href="./lib/qunit.css" type="text/css" media="screen" />
	<script type="text/javascript" src="./lib/qunit.js"></script>
	<script type="text/javascript" src="./lib/require.js"></script>
	<script type="text/javascript">
	QUnit.config.urlConfig.push({
		id: 'master',
		label: 'Backbone+Underscore master',
		tooltip: 'Load Backbone and Underscore master, instead of using the local copies.'
	});

	var sources;

	if ( QUnit.urlParams.master ) {
		sources = {
			'jquery': 'lib/jquery-1.9.1',
			'underscore': 'https://rawgithub.com/jashkenas/underscore/master/underscore',
			'backbone': 'https://rawgithub.com/jashkenas/backbone/master/backbone',
			'backbone-relational': './lib/backbone-relational',
			'backbone-tastypie': '../backbone_tastypie/static/js/backbone-tastypie'
		}
	}
	else {
		sources = {
			'jquery': './lib/jquery-1.9.1',
			'underscore': './lib/underscore',
			'backbone': './lib/backbone',
			'backbone-relational': './lib/backbone-relational',
			'backbone-tastypie': '../backbone_tastypie/static/js/backbone-tastypie'
		}
	}

	// Tests are loaded async, so wait for them to load before starting.
	QUnit.config.autostart = false;

	require.config({
		paths: sources
	});

	require( [ 'backbone-relational', 'backbone-tastypie' ], function() {
		require( [ 'tests' ], function() {
			QUnit.start();
		});
	});
	</script>
</head>
<body>
	<div id="qunit"></div>
	<div id="qunit-fixture"></div>
</body>
</html>
